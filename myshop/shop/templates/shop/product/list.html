{% extends "shop/base.html" %}
{% load static %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha384-abcdef" crossorigin="anonymous">
{% block title %}
{% if category %}{{ category.name }}{% else %}Товары{% endif %}
{% endblock %}
{% block content %}




<style>
.product-card {
	box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.06);
	transition: all .3s;
}

.product-card:hover {
	box-shadow: 0 14px 30px -15px rgba(0, 0, 0, 0.75);
}

.product-thumb a {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 200px;
	padding: 20px;
}

.product-thumb img {
    width: 100%;
	max-width: 100%;
	max-height: 100%;
}

.product-details {
	padding: 20px;
}

.product-details h4 a {
	font-weight: 500;
	display: block;
	height: 60px;
	overflow: hidden;
	text-decoration: none;
}

.product-details p {
	font-size: 15px;
	margin-bottom: 20px;
	color: #999;
	height: 44px;
	overflow: hidden;
}

.product-bottom-details {
	overflow: hidden;
	border-top: 1px solid #eee;
	padding-top: 20px;
}

.product-price {
	font-size: 18px;
	color: #413f3f;
	font-weight: 600;
}



.product-links a {
	font-size: 20px;
	margin-left: 10px;
}


.pagination {
  margin-top: 20px; /* Adjust spacing as needed */
}

/* Style individual page items */
.page-item {
  margin: 0 5px; /* Space between page items */
}

/* Style page links */
.page-link {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 35px; /* Adjust size as needed */
  height: 35px; /* Adjust size as needed */
  border-radius: 50%; /* Make them circular */
  border: 2px solid #ddd; /* Subtle border */
  color: #333; /* Text color */
  transition: all 0.3s ease; /* Smooth transition for hover effect */
}

/* Hover effect for page links */
.page-link:hover {
  background-color: #898b8f; /* Light background on hover */
  border-color: #ccc; /* Slightly darker border on hover */
}

/* Style the active page link */
.page-item.active .page-link {
  background-color: #e9ecef; /* Light background for active page */
  border-color: #ced4da; /* Slightly darker border for active page */
  font-weight: bold;
  color: #000;
}

/* Style the previous and next arrows */
.page-link .rounded-circle {
  font-size: 18px; /* Adjust size as needed */
}

.product-thumb img {
  max-width: 100%;
  height: auto;
  object-fit: contain;
}
</style>









<section class="main-content">
    <div class="container">
        {% if query %}
            <h1>Search results for "{{ query }}"</h1>
        {% else %}
            <h1>All Products</h1>
        {% endif %}
        <div class="row">
            {% for product in page_obj %}
            <div class="col-lg-4 col-sm-6 mb-3">
                <div class="product-card">
                    <div class="product-thumb">
                        <a href="{{ product.get_absolute_url }}"><img src="{% if product.image %}{{ product.image.url }}{% else %}{% static "img/no_image.jpg" %}{% endif %}" alt=""></a>
                    </div>
                    <div class="product-details">
                        <h4><a href="{{ product.get_absolute_url }}" style="font-size: 25px;">{{ product.name }}</a></h4>
                        <p>{{ product.description }}</p>
                        <div class="product-bottom-details d-flex justify-content-between">
                            <div class="product-price">
                                {{ product.price }}
                            </div>
                            <div class="product-links">
                                <a href="#" class="add-to-cart-link" data-product-id="{{ product.id }}" data-tip="В корзину">
                                    {% if product.id in inCart %}
                                        <img src="{% static "img/ok.png" %}">
                                    {% else %}
                                        <img src="{% static "img/cart.png" %}">
                                    {% endif %}
                  
                                </a>
                                <a href="#" class="favorite-link" data-product-id="{{ product.id }}" data-tip="В избранное">

                                    {% if product.id in favorite_products %}
                                        <img src="{% static "images/like.png" %}">
                                    {% else %}
                                        <img src="{% static "images/heart.png" %}">
                                    {% endif %}
                                </a>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="row" style="margin-bottom: 20px;">
            <div class="col-12">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center pagination-sm">
                        {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1"><span class="rounded-circle">«</span></a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1"><span class="rounded-circle">«</span></a>
                        </li>
                        {% endif %}

                        {% for p in page_obj.paginator.page_range %}
                        {% if page_obj.number == p %}
                        <li class="page-item active">
                            <a class="page-link" href="#"><span class="rounded-circle">{{ p }}</span></a>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ p }}"><span class="rounded-circle">{{ p }}</span></a>
                        </li>
                        {% endif %}
                        {% endfor %}

                        {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.next_page_number }}"><span class="rounded-circle">»</span></a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1"><span class="rounded-circle">»</span></a>
                        </li>
                        {% endif %}
                    </ul>
                </nav>
    </div>
</section>






{% csrf_token %}




{% endblock %}