{% load static %}



<style>
@media (max-width: 900px) {
   .container-fluid {
      max-width: 100%;
      padding-left: 5px;
      padding-right: 5px;
   }

   .login_text {
      display: inline-block;
   }
}

.cart-icon {
  position: relative;
}
.cart-icon img {
  width: 35px;
  height: 35px;
}
.cart-count {
  position: absolute;
  top: -8px;
  right: -7px;
  background-color: #252525;
  color: #fff;
  border-radius: 50%;
  padding: 5px;
  font-size: 9px;
}


.search-sidenav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  overflow: hidden;
  transition: all 0.3s ease-in-out;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.search-sidenav.open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.offcanvas-menu-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1;
}

.offcanvas-menu-content {
  position: relative;
  z-index: 2;
  background-color: #333;
  color: #fff;
  padding: 20px;
  max-width: 300px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}

.offcanvas-menu-title {
  margin-bottom: 20px;
}

.closebtn {
  color: #fff;
  font-size: 20px;
  font-weight: bold;
  text-decoration: none;
  display: block;
  text-align: right;
  margin-bottom: 20px;
}

nav {
  position: relative; /* or absolute, fixed, sticky */
  z-index: 9999; /* or any value greater than your .search-sidenav's z-index */
}

</style>

<div class="header_section" >
   <div class="container-fluid" >
      <nav class="navbar navbar-light bg-light justify-content-between">
         <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="#">Главная</a>
            {% if category_slug %}
               <a href="{% url 'shop:brands' category_slug=category_slug %}">Бренды</a>
            {% else %}
               <a href="{% url 'shop:all_brands' %}">Бренды</a>
            {% endif %}
            <a href="about.html">About</a>
            <a href="client.html">Client</a>
            <a href="contact.html">Contact</a>
         </div>
         <span class="toggle_icon" onclick="openNav()"><img src="{% static "images/toggle-icon.png" %}"></span>
         <a class="logo" href="{% url "shop:product_list" %}"><img src="{% static "images/dior.png" %}" style="height: 80px;"></a>
         <form class="form-inline">
            <div class="login_text">
               <ul>
                  <li><a href="{% url 'account:favorites' %}" ><img src="{% static "images/heart.png" %}"></a></li>
                  <li><a href="{% url "account:dashboard" %}"><img src="{% static "images/acc1.png" %}"></a></li> 

                  <li>
                     <a href="{% url "cart:cart_detail" %}">
                     <div class="cart-icon">
                        <img src="{% static "images/cart1.png" %}" alt="Cart icon">
                        <span class="cart-count" id="cart-count-element">
                           {% with total_items=cart|length %}
                              {{ total_items }}
                           {% endwith %}
                        </span>
                     </div>
                     </a>
                  </li>
                  <li>
                     <a href="#" onclick="openSearchOffcanvasMenu()" id="search-icon"><img src="{% static "images/search1.png" %}"></a>
                  </li>
               </ul>
            </div>
         </form>
      </nav>
   </div>
</div>


<div id="searchOffcanvasMenu" class="search-sidenav">
   <div class="offcanvas-menu-overlay" onclick="closeSearchOffcanvasMenu()"></div>
   <div class="offcanvas-menu-content">
     <a href="javascript:void(0)" class="closebtn" onclick="closeSearchOffcanvasMenu()">&times;</a>
     <h5 class="offcanvas-menu-title">Поиск</h5>
     <form action="{% url 'shop:search' %}" method="get">
       <input type="text" name="q" placeholder="Введите текст для поиска..." class="form-control mb-3">
       <button type="submit" class="btn btn-primary w-100">Найти</button>
     </form>
   </div>
 </div>



<script>
   function openNav() {
      document.getElementById("mySidenav").style.width = "100%";
      document.body.style.overflow = "hidden";
   }
            
   function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
      document.body.style.overflow = "auto";
   }


   function openSearchOffcanvasMenu() {
      document.getElementById("searchOffcanvasMenu").classList.add("open");
      document.body.style.overflow = "hidden";
}

   function closeSearchOffcanvasMenu() {
      document.getElementById("searchOffcanvasMenu").classList.remove("open");
      document.body.style.overflow = "auto";
}
</script>


